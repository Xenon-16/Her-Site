.gift-box-scene {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(circle at 50% 50%, white, #ffc0cb 100%);
    background-repeat: no-repeat;
    background-size: 100% 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    z-index: 1000;
}

/* Animations */
@keyframes fade-in {
    0% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}

@keyframes floaty {
    0% {
        transform: translateZ(16em);
    }

    50% {
        transform: translateZ(15.5em);
    }
}

@keyframes wiggle {
    0% {
        transform: translateZ(4em) rotateX(0deg) rotateY(0deg);
    }

    11% {
        transform: translateZ(4em) rotateX(1deg) rotateY(-1deg);
    }

    22% {
        transform: translateZ(4em) rotateX(1deg) rotateY(1deg);
    }

    33% {
        transform: translateZ(4em) rotateX(1deg) rotateY(0deg);
    }

    44% {
        transform: translateZ(4em) rotateX(-1deg) rotateY(-1deg);
    }

    55% {
        transform: translateZ(4em) rotateX(1deg) rotateY(1deg);
    }

    66% {
        transform: translateZ(4em) rotateX(-1deg) rotateY(0deg);
    }

    100% {
        transform: translateZ(4em) rotateX(0deg);
    }
}

@keyframes down {
    0% {
        transform: translateZ(16em);
    }

    100% {
        transform: translateZ(4em);
    }
}

@keyframes up {
    0% {
        transform: translateZ(4em) rotateX(0deg);
    }

    100% {
        transform: translateZ(16em) rotateX(0deg);
    }
}

@keyframes explode {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 1;
    }

    100% {
        transform: translate(var(--x), var(--y)) rotate(var(--rotation)) scale(0);
        opacity: 0;
    }
}

/* Question mark */
.qmark {
    font-size: 3em;
    font-weight: 700;
    color: rgba(250, 250, 100, 1);
    text-shadow: 0 0 1em 0em rgba(250, 250, 0, 1);
    position: absolute;
    transform: translateZ(1em) translateX(.8em) translateY(.5em) rotateX(-90deg) rotateY(45deg);
}

/* Floor container - centered */
.floor {
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
    height: 20em;
    width: 20em;
    transform-origin: 50% 50%;
    transform: rotateX(45deg) rotateZ(45deg);
    transform-style: preserve-3d;
    perspective: 1200px;
}

/* Box container */
.box {
    z-index: 1;
    position: relative;
    transform: translateZ(6em);
    transform-style: preserve-3d;
}

.face {
    height: 6em;
    width: 6em;
    position: absolute;
    z-index: 1;
    box-shadow: 0 0 .5em .25em rgba(0, 0, 0, .2) inset;
}

.top {
    background-color: black;
    background-image: linear-gradient(-90deg, transparent 49%, rgb(211, 47, 47)),
        linear-gradient(0deg, transparent 49%, rgb(211, 47, 47));
    transform: translateZ(3em);
    box-shadow: 0 0 0 .4em rgba(255, 215, 0, 1) inset;
}

.right {
    background-image: linear-gradient(to top, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 34% 65%, rgba(0, 0, 0, 0) 66%);
    background-color: rgb(183, 28, 28);
    transform: rotateY(90deg) translateZ(3em);
}

.left {
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 33% 66%, rgba(0, 0, 0, 0) 66%);
    background-color: rgb(211, 47, 47);
    transform: rotateX(-90deg) translateZ(3em);
}

/* Lid */
.lid {
    animation: wiggle 1.5s infinite cubic-bezier(.2, 1.2, .6, 1.1);
    position: absolute;
    height: 6.5em;
    width: 6.5em;
    transform-style: preserve-3d;
    z-index: 2;
    cursor: pointer;
}

.open {
    transform: translateZ(16em);
    animation: up 1s ease-out, floaty 2s 1s infinite linear;
}

.close {
    transform: translateZ(4em);
    animation: down 1s ease-out, wiggle 1.5s 1s infinite cubic-bezier(.2, 1.2, .6, 1.1);
}

.ltop {
    height: 6.5em;
    width: 6.5em;
    background-color: rgb(211, 47, 47);
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 34% 65%, rgba(0, 0, 0, .1) 66% 68%, rgba(0, 0, 0, 0) 69%),
        linear-gradient(to top, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 34% 65%, rgba(0, 0, 0, 0) 66%);
}

.lright {
    z-index: 2;
    background-color: rgb(183, 28, 28);
    width: 3em;
    height: 6.5em;
    transform: rotateY(90deg) translateX(1.5em) translateZ(5em);
    background-image: linear-gradient(to top, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 34% 65%, rgba(0, 0, 0, 0) 66%);
}

.lleft {
    height: 3em;
    width: 6.5em;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0) 33%, rgba(255, 215, 0, 1) 33% 66%, rgba(0, 0, 0, 0) 66%);
    background-color: rgb(211, 47, 47);
    transform: rotateX(-90deg) translateY(1.5em) translateZ(5em);
}

/* Shadows */
.shadow {
    position: absolute;
    top: 54%;
    left: 57.3%;
    z-index: 2;
    height: 18em;
    width: 7.9em;
    border-radius: 25% 0 0 0;
    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));
    transform: rotateZ(-20deg) translateZ(3em);
}

.shadow2 {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 2;
    height: 20em;
    width: 6em;
    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));
    transform: translateZ(3em);
}

.shadow3 {
    position: absolute;
    top: 45%;
    left: 36.5%;
    z-index: 2;
    height: 22em;
    width: 8em;
    border-radius: 0 50% 0 0;
    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));
    transform: rotateZ(13deg) translateZ(3em);
}

/* Particle explosion */
.particles-container {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    z-index: 999;
    pointer-events: none;
}

.particle {
    position: absolute;
    width: 15px;
    height: 15px;
    background: linear-gradient(135deg, #ff1493 0%, #ffd700 100%);
    box-shadow: 0 0 10px rgba(255, 20, 147, 0.5);
    animation: explode 1.2s ease-out forwards;
    border-radius: 2px;
}